@tailwind base;
@tailwind components;
@tailwind utilities;

/* Font imports moved to layout.tsx for better loading */

/* Force Safemama light palette with visible colors */
:root {
  --background: 255 255 255;
  --foreground: 15 23 42;
  --card: 255 255 255;
  --card-foreground: 15 23 42;
  --popover: 255 255 255;
  --popover-foreground: 15 23 42;
  --primary: 28 61 58;       /* your original dark teal */
  --primary-foreground: 255 255 255;
  --secondary: 248 250 252;  /* light gray */
  --secondary-foreground: 15 23 42;
  --muted: 100 116 139;
  --muted-foreground: 71 85 105;
  --accent: 212 175 55;      /* your gold color */
  --accent-foreground: 15 23 42;
  --destructive: 220 38 38;
  --destructive-foreground: 255 255 255;
  --border: 226 232 240;
  --input: 156 163 175;
  --ring: 28 61 58;
  --chart-1: 34 197 94;
  --chart-2: 234 179 8;
  --chart-3: 220 38 38;
  --chart-4: 212 175 55;
  --chart-5: 248 250 252;
  --radius: 0.5rem;
}

/* Ensure colors are always visible - override any theme switching */
html, body {
  background-color: rgb(255 255 255) !important;
  color: rgb(15 23 42) !important;
}

/* Prevent dark mode from swapping variables - force light theme */
:root.dark, .dark :root, html.dark, [data-theme="dark"] {
  --background: 255 255 255 !important;
  --foreground: 15 23 42 !important;
  --card: 255 255 255 !important;
  --card-foreground: 15 23 42 !important;
  --popover: 255 255 255 !important;
  --popover-foreground: 15 23 42 !important;
  --primary: 28 61 58 !important;
  --primary-foreground: 255 255 255 !important;
  --secondary: 248 250 252 !important;
  --secondary-foreground: 15 23 42 !important;
  --muted: 100 116 139 !important;
  --muted-foreground: 71 85 105 !important;
  --accent: 212 175 55 !important;
  --accent-foreground: 15 23 42 !important;
  --destructive: 220 38 38 !important;
  --destructive-foreground: 255 255 255 !important;
  --border: 226 232 240 !important;
  --input: 156 163 175 !important;
  --ring: 28 61 58 !important;
  --chart-1: 34 197 94 !important;
  --chart-2: 234 179 8 !important;
  --chart-3: 220 38 38 !important;
  --chart-4: 212 175 55 !important;
  --chart-5: 248 250 252 !important;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-inter;
    background: rgb(255 255 255) !important;
    color: rgb(15 23 42) !important;
  }
  h1, h2, h3, h4, h5, h6 {
    @apply font-playfair font-bold;
  }
  h1 {
    @apply text-4xl md:text-6xl;
  }
  h2 {
    @apply text-3xl md:text-4xl;
  }
  h3 {
    @apply text-2xl md:text-3xl;
  }
  .font-vitals {
    @apply font-roboto-mono font-semibold;
  }
  p {
    @apply leading-relaxed;
  }
  .text-muted-foreground {
    @apply text-gray-600 font-medium;
  }
}

@layer components {
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 dark:focus:ring-offset-slate-800;
  }
  
  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90 focus-ring rounded-xl px-6 py-3 font-semibold transition-all duration-200 shadow-md;
  }
  
  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/80 focus-ring rounded-xl px-6 py-3 font-semibold transition-all duration-200 shadow-sm border border-secondary/20;
  }
  
  .btn-accent {
    @apply bg-accent text-accent-foreground hover:bg-accent/90 focus-ring rounded-xl px-6 py-3 font-semibold transition-all duration-200 shadow-md;
  }
  
  .btn-danger {
    @apply bg-destructive text-destructive-foreground hover:bg-destructive/90 focus-ring rounded-xl px-6 py-3 font-semibold transition-all duration-200 shadow-md;
  }

  .card {
    @apply bg-card text-card-foreground rounded-xl shadow-md border border-border/50;
  }

  .risk-tier-1 {
    @apply border-l-4 border-green-600 bg-green-50 dark:bg-green-950/30 text-green-900 dark:text-green-100;
  }

  .risk-tier-2 {
    @apply border-l-4 border-yellow-600 bg-yellow-50 dark:bg-yellow-950/30 text-yellow-900 dark:text-yellow-100;
  }

  .risk-tier-3 {
    @apply border-l-4 border-red-600 bg-red-50 dark:bg-red-950/30 text-red-900 dark:text-red-100;
  }

  /* Enhanced input visibility */
  .input-visible {
    @apply border-2 border-gray-400 dark:border-gray-500 focus:border-primary focus:ring-2 focus:ring-primary/20;
  }
}

/* PWA styles */
.pwa-install-prompt {
  @apply fixed bottom-4 left-4 right-4 bg-primary text-white p-4 rounded-xl shadow-lg z-50;
}

/* Loading states */
.skeleton {
  @apply animate-pulse bg-muted rounded;
}

/* Touch targets */
@media (hover: none) and (pointer: coarse) {
  .btn {
    @apply min-h-[44px] min-w-[44px];
  }
}

/* Map container */
.mapboxgl-map {
  @apply rounded-xl overflow-hidden;
}

/* Hero heading clamp */
.h1-clamp { 
  font-size: clamp(1.8rem, 2.2vw + 1rem, 3rem); 
  line-height: 1.2; 
}

/* Readable text helpers on light surfaces */
.text-title { color: #1B2735; }
.text-muted { color: #6C757D; }

/* Amber contrast helper */
.text-amber-strong { color: #4A3A00; }